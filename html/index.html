<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!--<script src="nui://game/ui/jquery.js"></script>-->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
	<link rel="stylesheet" href="./css/styles.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" 
		integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" 
		crossorigin="anonymous" 
	/>
</head>
<body>
	<script>
		let isDead = false
		let currentHealth = 100, currentArmor = 100

		const CalculateColor = ( perc ) =>
		{
			var r, g, b = 0;

			if ( perc < 50 )
			{
				r = 255
				g = Math.round( 5.1 * perc )
			}
			else
			{
				g = 255
				r = Math.round( 510 - 5.10 * perc )
			}
			var h = r * 0x10000 + g * 0x100 + b * 0x1

			return '#' + ( '000000' + h.toString( 16 ) ).slice( -6 )
		}

		document.onkeypress = e =>
		{
    		if ( e.keyCode === 107 )
			{
				$.post( 'https://zm-core/ui/close' )
			}
		}

		window.addEventListener( 'message', e =>
		{
			if ( e.data.type === 'ZMan/updateUi' )
			{
				currentHealth = e.data.health / 2
				currentArmor = e.data.armor / 2

				if ( currentHealth <= 0 )
					isDead = true

				$( '#alive' ).css( { color: CalculateColor( currentHealth ) } )

				$( '#health' ).width( currentHealth )
				$( '#armor' ).width( currentArmor )

    			if ( isDead )
				{
					$( '#alive' ).hide()
					$( '#dead' ).show()
				} 
				else
				{
					$( '#alive' ).show()
					$( '#dead' ).hide()
				}
			}
		} )
	</script>
	<div class="container">
		<div class="ui">
			<div class="mugshot">
				<img src="https://b.catgirlsare.sexy/K6b1fMEy.jpg" alt="">
			</div>
			<i id="alive" class="far fa-heart"></i>
			<i id="dead" class="fas fa-skull-crossbones"></i>
			<div class="status">
				<div class="health-wrapper">
					<div id="health" class="health"></div>
				</div>
				<div class="armor-wrapper">
					<div id="armor" class="armor"></div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>